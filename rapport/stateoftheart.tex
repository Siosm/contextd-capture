\section{\'Etat de l'art}

Ce projet de deuximème année s'inscrit dans le contexte de la sécurité d'un système basé sur le noyau Linux. Plus que simplement le noyau et les applications, ce sont l'ensemble des intéractions entre tous ces éléments qui doivent être contrôlées. Nous allons détailler les objectifs à atteindre avant de présenter les différentes solutions disponibles. 

% Il existe différents mécanismes qui permettent d'apporter des couches de sécurité à un tel système. Nous détaillerons donc les principes fondateurs de la sécurité pour enchaîner sur les solutions disponibles.

Nous allons réduire les concepts d'utilisateurs et d'applications aux ``simples'' processus qui sont la base de toute intéraction avec un système. De même, les fichiers, sockets, les IPC sont autant d'éléments sur lesquel un processus peut agir et nous les regrouperons sous le terme d'objet.

\subsection{Les objectifs de sécurité}

La sécurité d'un système d'information et plus particulièrement la sécurité des systèmes d'exploitation réside dans l'application de mesures visant à atteindre les objectifs suivants :

\textbf{Confidentialité :}
Les informations ne doivent être accessibles qu'aux utilisateurs qui ont besoin ou qui disposent des privilèges correspondant.

\textbf{Intégrité :}
Il ne doit pas être possible de modifier certaines informations comme les mots de passe, les binaires installés, les fichiers de configuration...

\textbf{Disponibilité :}
Le système doit être réactif, stable et utilisable. Les programes doivent pouvoir fonctionner correctement.

\textbf{Authenticité :}

\textbf{Non-répudiation :}

\subsection{Le principe de séparation des privilèges}

Le principe de séparation des privilèges ou principe de moindre privilège est à la base des mécanismes de sécurité sur un système. Il stipule qu'un programme (contrôlé ou non par l'utilisateur) ne doit disposer que des droits nécessaire à son bon fonctionnement. Par exemple, il semble évident qu'un logiciel de traitement de texte n'ai pas accès aux informations sensibles du système comme la liste des utilisateurs ou la liste des mots de passe.

L'application la plus courante de ce principe est la séparation entre les différents comptes, utilisateurs ou non, sur un système. Une application lancée par un utilisateur ne bénéficie que des droits accordés à cet utilisateur.

\subsection{A qui faire confiance ?}

Il est possible d'employer différentes approches pour s'assurer de la sécurité d'un système d'exploitation, mais chacune d'entre elles repose à un moment ou un autre sur la confiance que l'on a dans l'un des éléments qui la constitue. On peut citer plusieurs cas de figures\cite{WCS}:
\begin{itemize}
  \item Faire confiance à tous les logiciels à propos du respect de la politique de sécurité, tout en étant conscient que les logiciels ne sont pas de confiance % Trust all the software to abide by a security policy but the software is not trustworthy (this is computer insecurity).
  \item Faire confiance à tous les logiciels à propos du respect de la politique de sécurité et s'assurer que le logiciel est validé et fiable (analyse complète et exhaustive de tous les cas d'utilisations, de toutes les branches du code) % Trust all the software to abide by a security policy and the software is validated as trustworthy (by tedious branch and path analysis for example).
  \item Ne faire confiance à aucun programme, mais imposer une politique de sécurité par un moyen pas nécessairement fiable% enforce a security policy with mechanisms that are not trustworthy (again this is computer insecurity).
  \item Ne faire confiance à aucun programme, mais s'assurer qu'une politique de sécurité est appliqué par des \_méchanismes\_ matériel% trustworthy hardware mechanisms. %FIXME

\end{itemize}


\subsection{Les différentes méthodes de contrôle d'accès}

Nous allons détaillé dans cette partie plusieurs méthodes employées pour appliquer le principe de séparation des privilèges et atteindre les objectifs CID.

\subsubsection{Contrôle d'accès discrétionnaire (DAC)}

Le contrôle d'accès discrétionnaire ou DAC correspond à un modèle laissant à l'utilisateur, et donc aux programmes qu'il lance, tout contrôle sur les droits accordés aux objets qu'il possède. Un utilisateur peut ainsi compromettre un système en accordant des droits importants à d'autres utilisateurs sur les fichiers qu'il possède.

\subsubsection{Contrôle d'accès mandataire (MAC)}

Le contrôle d'accès mandataire restreint fortement les droits accordés aux processus. En effet, ceux-ci ce voient contraints de respecter des régles établies sur le système

\textbf{Bella La Paluda :}

\textbf{Biba :}

\subsubsection{Contrôle d'accès basé sur des rôles (RBAC)}

\subsection{Solutions disponibles}

\subsubsection{SELinux}

Une implémentation d'un mécanisme de contrôle d'accès mandataire, de niveau de sécurité/confidentialité, et d'un contrôle d'accès basé sur les rôles.

\begin{list}{}{}
 \item \textbf{Contrainte pour l'administrateur :} Il faut décrire la totalité des intéractions possibles pour chaque programme présent sur un système. Il faut s'assurer du bon fonctionnement de ces politiques.

 \item \textbf{Avantages :} Séparation fine des privilèges et des rôles, intégrée dans le noyau.
\end{list}



\subsubsection{PIGA}

Une surcouche à SELinux permettant de définir et imposer des politique de sécurité à l'echelle du système en plus des contrôles à niveau des intéractions effectués par SELinux.

\subsubsection{iptables}

Un logiciel permettant de contrôler lpus facilement netfilter, le parre-feu intégré au noyau Linux. Il permet entre autre de définir précisément quels ports et quelles intéractions avec le réseau sont autorisées sur une machine.

\subsubsection{grsecurity \& PaX}

Une autre implémentation des mécanismes de contrôle d'accès mandataire et basé sur les rôles.

\subsubsection{contextd}

Pax = sécurité automatique
SELinux, GrSec = MAC qui contrôle les accès directs
PIGA = contrôle les accès indirects
iptables contrôle le trafic réseau

contextd = chef d'orchestre + changement dynamique des règles des autres  mécanismes de protection pour adapter les permissions au domaine d'utilisation.

Chercher tous les systèmes de MAC/DAC/RBAC,...

tu peux classer les MAC en fonction du travail à faire par l'administrateur, tu peux les classer en fonction d'où ils agissent

tu peux les classer par rapport à la logique interne (stateless ou statefull)

\newpage

\section{Solution utilisée}

% \subsection{PIGA-OS, PIGA-SYSTRANS}

\subsection{SELinux, PIGA, contextd}

La solution retenue par Jérémy Briffaut et l'équipe SDS pour construire un système d'exploitation sécurisé est constituée de SELinux, PIGA, et de contextd. Ces trois éléments forment une suite de couche qui offrent progressivement un contrôle plus fin sur les intéractions sur un système Linux, et permettent de garantir des propriétés fine et précises, mais en même temps générales.

\subsection{Gentoo Hardened}

Notre project ayant pour but potentiel, à terme, d'être intégré dans le système PIGA-OS, nous avons basé l'intégralité du développement sur la distribution Gentoo Hardened, qui propose une version du noyau modifié. C'est donc à partir des noyaux Linux 2.6.32-r9 et r22 version hardened que nous avons travaillé.
