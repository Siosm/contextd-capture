<PIGA_Transitions>
	<!--Contexts-->
		<context name="impots" display_name="Impôts" />
		<context name="mail" display_name="E-Mail" />
		<context name="rapport" display_name="Rapport" />
		<context name="default" display_name="Défaut" icon="/usr/share/icons/pigaos/go-home.png" default="true"/>

		
	<!--Programs-->
		<context name="testprog" display_name="Programme de test" icon="" full_path="/usr/testprog" />
		<program name="context-notify" display_name="Context Notify" icon="" full_path="/usr/bin/context-notify" />
		
		
	<!--Programme de test-->
			<rule app_name="testprog" transit_from=".*" transit_to="default" prompt="false" scope="global">
					<path>.*</path>
			</rule>
		<!--Impots -->
			<rule app_name="testprog" transit_from="impots" transit_to="impots" prompt="false" notify="false" scope="global">
					<fullpath>/home/pigauser/impots/*</fullpath>
			</rule>
			<rule app_name="testprog" transit_from="default" transit_to="impots" prompt="true" scope="global">
					<fullpath>/home/pigauser/impots/*</fullpath>
			</rule>
			<rule app_name="testprog" transit_from="impots" transit_to=".*" prompt="true" scope="global">
					<fullpath>/home/pigauser/*</fullpath>
			</rule>

		<!--Rapport -->
			<rule app_name="testprog" transit_from="rapport" transit_to="rapport" prompt="false" notify="false" scope="global">
					<fullpath>./home/pigauser/rapport/*</fullpath>
			</rule>
			<rule app_name="testprog" transit_from="default" transit_to="rapport" prompt="true" scope="global">
					<fullpath>./home/pigauser/rapport/*</fullpath>
			</rule>
			<rule app_name="testprog" transit_from="rapport" transit_to=".*" prompt="true" scope="global">
					<fullpath>./home/pigauser/rapport/*</fullpath>
			</rule>

		<!-- default -->
			<rule app_name="testprog" transit_from="default" transit_to="default" prompt="false" notify="false" scope="global">
				<fullpath>.*</fullpath>
			</rule>


	<!--Firefox-->
<!--	<rule app_name="firefox" transit_from=".*" transit_to="default" prompt="false" scope="global">
		<host>[0-9].*</host>
	</rule>-->
		<!--Impots -->
<!--			<rule app_name="firefox" transit_from="impots" transit_to="impots" prompt="false" notify="false" scope="global">
				<host>.*\.impots\.gouv\.fr</host>
				<path>.*</path>
				<protocol>https</protocol>
			</rule>
			<rule app_name="firefox" transit_from="default" transit_to="impots" prompt="true" scope="global">
				<host>.*\.impots\.gouv\.fr</host>
				<path>.*</path>
				<protocol>https</protocol>
			</rule>
			<rule app_name="firefox" transit_from="impots" transit_to=".*" prompt="false" scope="global">
				<url>file:///usr/lib/.*firefox.*/extensions/PIGAContext@sds-project.fr/chrome/content/access_forbidden.xul</url>
			</rule>-->
			<!-- We forbid to go back from Impôts-->

		<!--E-commerce -->
<!--			<rule app_name="firefox" transit_from="ecommerce" transit_to="ecommerce" prompt="false" notify="false" scope="global">
				<host>(.*\.ebay\.fr|.*\.ebayrtm\.com|.*\.ebaystatic\.com|.*\.ldlc\.fr|.*\.ldlc\.com|.*\.ventesprivees\.fr|.*\.laredoute\.fr|.*\.darty\.fr)</host>
				<path>.*</path>
				<protocol>(http|https)</protocol>
			</rule>
			<rule app_name="firefox" transit_from="default" transit_to="ecommerce" prompt="true" scope="global">
				<host>(.*\.ebay\.fr|.*\.ebayrtm\.com|.*\.ebaystatic\.com|.*\.ldlc\.fr|.*\.ldlc\.com|.*\.ventesprivees\.fr|.*\.laredoute\.fr|.*\.darty\.fr)</host>
				<path>.*</path>
				<protocol>(http|https)</protocol>
			</rule>
			<rule app_name="firefox" transit_from="ecommerce" transit_to=".*" prompt="false" scope="global">
				<url>file:///usr/lib/.*firefox.*/extensions/PIGAContext@sds-project.fr/chrome/content/access_forbidden.xul</url>
			</rule>-->
			<!-- We forbid to go back from Impôts-->
<!--			<rule app_name="firefox" transit_from="mail" transit_to=".*" prompt="false" scope="global">
				<url>file:///usr/lib/.*firefox.*/extensions/PIGAContext@sds-project.fr/chrome/content/access_forbidden.xul</url>
			</rule>-->

		<!-- default -->
<!--			<rule app_name="firefox" transit_from="default" transit_to="default" prompt="false" notify="false" scope="global">
				<host>[a-z].*</host>
				<path>.*</path>
				<protocol>(http|https)</protocol>
			</rule>
			<rule app_name="firefox" transit_from="default" transit_to="default" prompt="false" scope="global">
				<url>file:///usr/lib/.*firefox.*/extensions/PIGAContext@sds-project.fr/chrome/content/access_forbidden.xul</url>
			</rule>-->

	<!-- Claws-mail -->
		<!-- Impots -->
<!--			<rule app_name="claws-mail" transit_from="impots" transit_to="impots" scope="global" notify="false">
				<from>.*\@dgfip\.finances\.gouv\.fr</from>
			</rule>
			<rule app_name="claws-mail" transit_from="default" transit_to="impots" scope="global" prompt="true" notify="true">
				<from>.*\@dgfip\.finances\.gouv\.fr</from>
			</rule>
			<rule app_name="claws-mail" transit_from="mail" transit_to="impots" scope="global" prompt="true" notify="true">
				<from>.*\@dgfip\.finances\.gouv\.fr</from>
			</rule>-->

		<!--E-commerce -->
<!--            		<rule app_name="claws-mail" transit_from="ecommerce" transit_to="ecommerce" scope="global" notify="false">
				<from>(.*\@ebay\.fr|.*\@.*\.ebay\.fr|.*\@ldlc\.fr)</from>
			</rule>
			<rule app_name="claws-mail" transit_from="mail" transit_to="ecommerce" scope="global" notify="false" prompt="true">
				<from>(.*\@ebay\.fr|.*\@.*\.ebay\.fr|.*\@ldlc\.fr)</from>
			</rule>-->

<!--			<rule app_name="claws-mail" transit_from="default" transit_to="ecommerce" scope="global" prompt="true" notify="true">
				<from>(.*@\ebay\.fr|.*\@.*\.ebay\.fr|.*\@ldlc\.fr)</from>
			</rule>-->
		<!-- Mail -->
<!--			<rule app_name="claws-mail" transit_from="mail" transit_to="mail" scope="global" prompt="false" notify="false">
				<from>.*</from>
			</rule>
			<rule app_name="claws-mail" transit_from="default" transit_to="mail" scope="global" prompt="true" notify="true">
				<from>.*</from>
			</rule>
			<rule app_name="claws-mail" transit_from="mail" transit_to="mail" scope="global" prompt="false" notify="false">
				<status>connect</status>
				<session_type>(imap|smtp|pop)</session_type>
				<host>.*</host>
				<port>.*</port>
			</rule>-->

	<!-- Context Notify : Manual transitions-->
		<rule app_name="context-notify" transit_from="default" transit_to="impots" scope="global" notify="true">
			<context>impots</context>
		</rule>
		<rule app_name="context-notify" transit_from="default" transit_to="ecommerce" scope="global" notify="true">
			<context>ecommerce</context>
		</rule>
		<rule app_name="context-notify" transit_from="default" transit_to="mail" scope="global" notify="true">
			<context>mail</context>
		</rule>
		<rule app_name="context-notify" transit_from="mail" transit_to="ecommerce" scope="global" notify="true">
			<context>ecommerce</context>
		</rule>

</PIGA_Transitions>
